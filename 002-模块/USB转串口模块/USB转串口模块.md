### USB转串口模块

在MCU不自带USB转串口芯片的时候，我们不能很方便地将程序下载到MCU中。这时候，就可以使用USB转串口模块，手工烧录程序，不过这样比较麻烦，其实可以购买一些现成地烧录程序的工具，别人封装好的东西用起来很方便。

下面介绍如何使用USB转串口模块。

> 连线

连线时需要连接4根，分别是VCC，GND，RXD，TXD。其中USB转串口模块的RXD，TXD分别与MCU的TXD，RXD连接（即接收与发送对应连接）。

> 引脚说明（ESP-01为例）

| 序号 | 引脚  | 功能                                                         |
| :--: | ----- | ------------------------------------------------------------ |
|  1   | GND   | 接地引脚                                                     |
|  2   | GPIO2 | 通用IO，内部已上拉                                           |
|  3   | GPIO0 | 1）工作模式选择                                              |
|      |       | 悬空：Flash Boot，工作模式<br>下拉：UART DownLoad，**下载模式** |
|  4   | VCC   | 3.3V模块供电                                                 |
|  5   | RXD   | 串口0 数据接收端 RXD                                         |
|  6   | RST   | 1)外部复位引脚，**低电平复位**<br>2)可以悬空或者接外部MCU    |
|  7   | CH_PD | 使能端口，高电平工作，低电平模块不工作                       |
|  8   | TXD   | 串口0 数据发送端 TXD                                         |

* GPIO0用于选择工作模式，如果**什么都不接，就是正常的工作模式**；如果是下拉，即**低电平**，就是**下载模式**
* RST是复位引脚，**低电平下复位**

> 切换下载模式

**烧录程序时，一定要将GPIO0一直接在低电平（即持续选择下载模式），然后RST接一下低电平后就立即松开**（相当于按了一次复位），这个时候，ESP-01就成功切换到**下载模式**了。

> 下载程序到MCU

* 可以使用Arduino IDE或 ESP IDF等工具给MCU上传程序
* 也可以将程序导出为二进制bin文件再用烧录工具烧录进MCU。

> 恢复正常工作模式

**将GPIO0悬空（即选择了正常工作模式），接着RST接一下低电平后就立即松开（按了一次复位）**，这个时候，ESP-01就恢复了正常**工作模式**，并且会**执行刚才上传的代码**。

> 被覆盖的原厂固件的恢复

将自己的程序烧录到ESP-01之后，它出场时自带的固件（ESP-01是AT指令程序）便被覆盖了，如果想要恢复，可以去下载该固件【Ai-Thinker_ESP8266_AT_Firmware_DOUT_v1.5.4.1-a_20171130】，然后按照上面的步骤烧录即可。